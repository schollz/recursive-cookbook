<!DOCTYPE html>
<html>

<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">


  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    img {
      object-fit: cover;
    }
  </style>

</head>

<body>

  <nav class="nav-extended">
    <div class="nav-wrapper">
      <a href="#" class="brand-logo">Time To Make Food</a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul class="side-nav" id="mobile-demo">
        <li>
          <h3 class="black-text name">&nbsp;Recipes</h3>
          </a>
        </li>
        <li>
          <div class="user-view">
            <a href="#!user"><img class="circle" src="https://dev.timetomakefood.com/img/food/grilled_cheese_sandwich.jpg"></a>
            <a href="#!name"><span class="black-text name">Grilled cheese sandwich</span></a>
          </div>
        </li>
        <li>
          <div class="divider"></div>
        </li>
        <li>
          <div class="user-view">
            <a href="#!user"><img class="circle" src="https://dev.timetomakefood.com/img/food/cookies.jpg"></a>
            <a href="#!name"><span class="black-text name">Cookies</span></a>
          </div>
        </li>
      </ul>
    </div>
  </nav>


  <div class="container">

    <!--  Collections Section  -->
    <div id="basic" class="section">

      <div class="col s12 ">

        <div class="card horizontal z-depth-4 ">

          <div class="row valign-wrapper">
            <div class="col s8 card-content">
              <h3>{{ recipe['name'] | title }}</h3>  <!-- Modal Trigger -->
              <h4><i class="material-icons">alarm</i> {{ recipe['time'] }}</h4>
            </div>
            <div class="col s2 ">
              <img src="https://dev.timetomakefood.com/img/food/{{ recipe['name'] | replace(" ","_") }}.jpg" alt="" class="circle responsive-img">
            </div>
            <div class="col s1">
            </div>
          </div>


        </div>
      </div>

    </div>
    <!-- End collections -->


    <div class="section">



  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Flow chart</h4>
      <img src="/static/img/graph/{{ graphviz }}.png" width="90%">
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div>
          


      <h3>Ingredients</h3>


      <div class="row">

        {% for ingredient in recipe['ingredients'] %}
        <div class="col s6 m4">
          <div class=" card teal darken-3 z-depth-4 ">
            <div class="card-content white-text ">
              
              <span class="card-title ">{{ ingredient.name }}</span>
              <p>{{ ingredient.amount }}</p>
              {% if ingredient.has_data %}
              <a class="btn-floating halfway-fab waves-effect waves-light red" href="./{{ ingredient.name | replace(" ","-") }}/"><i class="material-icons">cached</i></a>
              {% endif %}
            </div>
          </div>
        </div>
        {% endfor %}


      </div>

      <div class="section ">
        <h3>Instructions                 <a class="waves-effect waves-light btn" href="#modal1">Flow chart</a></h3>

        {% for subrecipe in recipe['instructions'] %}
        <div class="row ">
          <div class="col s12 m12">
            <div class="card">
              <div class="card-image">
                <img src="https://dev.timetomakefood.com/img/food/{{subrecipe['name'] | replace(' ','_')}}.jpg" height=100px>
                <span class="card-title black-text">{{ subrecipe['name'] | title }}</span>
                <a class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">check</i></a>
              </div>
              <div class="card-content  flow-text">
                <ul>
                  {% for instruction in subrecipe['instructions'] %}
                  <li>{{ instruction.count }}. {{ instruction.text }}</li>
                  {% endfor %}

                </ul>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}

      </div>
    </div>


  </div>


  <footer class="page-footer">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">About</h5>
          <p class="grey-text text-lighten-4">Learn exactly how long to make food.</p>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
        Â© 2017 timetomakefood.com
        <a class="grey-text text-lighten-4 right" href="#!">timetomakefood@gmail.com</a>
      </div>
    </div>
  </footer>

  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

  <script src="http://materializecss.com/js/jquery.timeago.min.js"></script>
  <script src="http://materializecss.com/js/prism.js"></script>
  <script src="http://materializecss.com/jade/lunr.min.js"></script>
  <script src="http://materializecss.com/jade/search.js"></script>
  <script src="http://materializecss.com/bin/materialize.js"></script>
  <script src="http://materializecss.com/js/init.js"></script>




      <script>
      $(document).ready(function () {

        $('.button-collapse').sideNav({
          menuWidth: 300, // Default is 300
          edge: 'right', // Choose the horizontal origin
          closeOnClick: true, // Closes side-nav on <a> clicks, useful for Angular/Meteor
          draggable: true, // Choose whether you can drag to open on touch screens,
        });

            $('.modal').modal();

      })
  </script>

</body>

</html>